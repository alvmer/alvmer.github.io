## Понятие графа

Нередко начинающим математикам предлагают именно теорию графов в качестве одной из первых изучаемых дисциплин. Этот раздел дискретной математики, очевидно, обладает высокой наглядностью и явным прикладным характером. Однако в нем есть и абстрактные детали, есть высокая наука, где возникают задачи, которые даже до сих пор не решены. 

```
Примеры нерешенных задач в выпадающем блоке...
``` 

Считается, что в 1736 году Леонард Эйлер первым применил идеи теории графов, несмотря на то, что в своих текстах явно не использовал понятие *граф*.  Он изучал проблему о кенигсбергских мостах, которой мы обязательно еще коснемся в рамках курса.

### Главные определения

Обычно графы возникают тогда, когда в задаче есть набор каких-то элементов и необходимо учитывать какие-то связи между ними. Да, звучит очень широко, но в этом и есть вся сила теории графов. Можем рассмотреть города и дороги между ними, компьютеры и их связи в сетях, людей и знакомства или отношения друг другу, атомы и связи между ними в молекуле, и т.д. Можно привести и менее очевидные примеры: клетки лабиринта для робота, каждая связывается с теми, которые доступны для робота; символы строки и доступные преобразования для каждой и т.д. Таким образом,теория графов может возникать и в удивительных экзотических ситуациях, когда по задаче это совершенно не очевидно. 

Рассмотрим формальные определения.

{% include onepar_element.html type="definition" label="graph" 
text="Пусть $V$ - произвольное непустое множество. _Графом_ $G = (V, E)$ назовем совокупность двух множеств $V$ и $E$. Множество $V$ при этом называется множеством _вершин_ (точек, узлов)." %}

Заметим, что на множество $V$ вообще никаких ограничений не накладывается: оно может быть чем угодно, только не может быть пустым (а то не интересно). Может быть конечным, может бесконечным. Но мы будем изучать конечные графы.

Определение, данное выше, естественно, не полное. Обычно в задачах необходимы два типа графов: неориентированные и ориентированные (это разные объекты!), в зависимости от того, важна ли в задаче направленность ранее упомянутых <<связей>>. Определения этих двух понятий зависят от определения множества $E$.

Итак, пусть $G=(V, E)$, $V\ne\varnothing$.

<div class="container">
  <div class="row">
    <div class="col">
      <h4>Неориентированный граф</h4>
      $$E = \text\{ \\{ \{v_1, v_2 \} \,|\, v_1\ne v_2;\, v_1,\,v_2 \in V \} \\}$$
      Получается, элемент множества $E$ представляет из себя множество из двух элементов $V$. Так мы обозначаем "связь". <br>
        <ul>
            <li> Элемент $e\in E$ называется <em>ребром</em> (линией).</li>
            <li> Вершины $v_1$ и $v_2$ называются <em>концами</em> ребра $e=\text\{\\{v_1, v_2\}\\}$. При этом ребро $e$ <em>инцидентно</em> вершинам $v_1$ и $v_2$.</li>
            <li>Вершины $v_1$ и $v_2$ называются <em>смежными</em> или <em>соседними</em>, если $\text\{\\{v_1, v_2\}\\}\in E$, то есть существует инцидентное им ребро.</li>
            <li><em>Смежными ребрами</em> ($\text\{\\{v, v_1\}\\}$ и $\text\{\\{v, v_2\}\\}$) называются ребра, инцидентные одной вершине.</li>
            <li><em>Степенью</em> $d(v)$ вершины $v$ называют количество инцидентных ей ребер.</li>
            <li>Вершина $v$ называется <em>изолированной</em>, если $d(v)=0$. Называется <em>висячей (листом)</em>, если $d(v)=1$.</li>
        </ul>
    </div>
    <div class="col">
      <h4>Ориентированный граф</h4>
      $$E = \text\{ \\{ (v, w) \,|\, v\ne w;\, v,\,w \in V \} \\}\subset V\times V$$
      Получается, элемент множества $E$ представляет из себя множество <em>упорядоченных пар</em> элементов $V$. Так мы обозначаем <q>направленную связь</q>, так как нам важно отличать концы друг от друга: где начало, а где конец. <br>
        <ul>
            <li> Элемент $e\in E$ называется <em>направленным ребром, дугой, стрелкой</em> (или просто ребром, если понятно, о каком графе речь).</li>
            <li> Вершина $v$ называется <em>началом</em>, а вершина $w$ называется <em>концом</em> дуги $e=(v, w)$. При этом дуга $e$ <em>инцидентна</em> вершинам $v$ и $w$. Вершина $v$ называется <em>предком</em> вершины $w$.</li>
            <li>Ребро $(w, v)$ называется <em>обратным</em> ребру $(v, w)$.</li>
            <li><em>Степенью</em> $d(v)$ вершины $v$ называют количество инцидентных ей ребер. Определяют также <em>полустепень исхода</em> $d^{\text{out}} (v) = \\| \text\{\\{(v,w)\in E \}\\} \\|$ из вершины $v$, и <em>полустепень входа</em> $d^{\text{in}}(w) = \\| \text\{\\{(v,w)\in E \}\\} \\|$ в вершину $w$.</li>
            <li>Вершину $v$ называют <em>истоком</em>, если $d^{\text{in}}(v) = 0$, и называют <em>стоком</em>, если $d^{\text{out}}(v) = 0$. Вершину называют <em>изолированной</em>, если $d(v) = 0$.</li>
        </ul>
        <br>
        Заметим, что $\forall v\in V\colon d^{\text{in}} (v)
        +d^{\text{out}} (v) = d (v)$.
    </div>
  </div>
</div>
<br>
_Элементами графа_ $G=(V, E)$ называют элементы множества $V \cup E$. _Порядком_ этого графа называют количество вершин в нем $|V|$, а _размером_ --- количество ребер $|E|$. Часто в анализе алгоритмов возникает величина, зависящая от их суммы $|V|+|E|$.

Обратите внимание, что вверху было введено понятие инцидентности. Инцидентность используется для связи ребер и вершин, но никогда не применяется по отношению только двух вершин.

{% include onepar_element.html type="remark"
text='_Терминология теории графов не является однозначной._ Разные авторы имеют в виду то одно, то другое, потому всегда сначала вводят свои определения. Путь, который мы выбрали, на взгляд автора, является наиболее удачным, так как объединяет в себе лучшее из разных трактовок, определения обладают общностью.' 
%}


### Уродства: кратные рёбра и петли

В мире графов тоже случаются неприятные вещи, причем часто неприятные во всех смыслах: с точки зрения описания на математическом языке, так и с точки зрения представления в ЭВМ; для того, чтобы учесть их в алгоритмах, нередко приходится заморочиться. Пожалуйста, вашему вниманию предлагаются следующие определения.

{% include onepar_element.html type="definition" label="loopedges"
text='*Кратными ребрами* называются ребра, имеющие одинаковые концы (совпадают начала и концы для ориентированного графа). *Петлей* называется ребро, концевые вершины которого совпадают (совпадают начало и конец для ориентированного графа).' %}

<img src="/assets/images/graphs/naruto-clone.gif" alt="naruto" style="display:  block;margin-left:auto;margin-right:auto;width:50%;">

Чтобы разрешить петли в неориентированном графе, нужно заявить, что множество $e$ (ребро) является мультимножеством из двух элементов. Тогда допустима запись $e = \\{ v, v \\}$ --- петля. По понятным причинам снимается ограничение $v_1\ne v_2$ в определении. 

Заметим, что в определении ориентированного графа достаточно лишь отменить требование $v\ne w$. В упорядоченной паре первый и второй элементы могут совпадать по определению.

Чтобы разрешить в графе кратные ребра, достаточно сказать, что само множетсво всех ребер (или дуг) $E$ является мультимножеством. 


<div class="alert alert-definition">
  <img class="alert-icon" src="/assets/images/icons/study.png" alt="icon"><div class="alert-name">Определение</div>
  Граф, в котором
  <ul>
    <li>отсутствуют кратные ребра и петли называется <em>простым</em>;</li>
    <li>есть кратные ребра называется <em>мультиграфом</em>;</li>
    <li>есть петли называется <em>псевдографом</em>.</li>
  </ul>
  Да, бывает <em>псевдомультиграф</em>.
</div>